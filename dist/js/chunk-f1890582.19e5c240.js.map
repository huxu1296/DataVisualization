{"version":3,"sources":["webpack:///./src/views/components/page1/jobFunnel.vue","webpack:///src/views/components/page1/jobFunnel.vue","webpack:///./src/views/components/page1/jobFunnel.vue?14e2","webpack:///./src/views/components/page1/jobFunnel.vue?2860","webpack:///./src/views/components/page1/jobFunnel.vue?8bee"],"names":["render","_vm","this","_c","_self","staticClass","staticRenderFns","name","props","data","Array","myChart","colors","start","end","methods","setChart","length","option","title","show","tooltip","trigger","backgroundColor","borderColor","borderWidth","textStyle","color","fontSize","formatter","params","value","legend","orient","right","top","itemWidth","itemHeight","itemGap","padding","find","item","map","icon","series","type","left","width","height","min","max","Math","minSize","maxSize","sort","gap","label","position","fontWeight","textShadowBlur","textShadowColor","labelLine","emphasis","itemStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","index","x","y","x2","y2","colorStops","offset","$echarts","$el","clear","resize","setOption","on","seriesType","dispatchAction","seriesIndex","dataIndex","currentIndex","setInterval","watch","handler","deep","mounted","component"],"mappings":"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","file":"js/chunk-f1890582.19e5c240.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"job-funnel\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"job-funnel\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'JobFunnel',\r\n    props: {\r\n        data: Array\r\n    },\r\n    data() {\r\n        return {\r\n            myChart: null,\r\n            // 新的渐变配色方案\r\n            colors: [\r\n                {\r\n                    start: '#00D9FF',\r\n                    end: '#0054FF'\r\n                },\r\n                {\r\n                    start: '#00FF88',\r\n                    end: '#00CC55'\r\n                },\r\n                {\r\n                    start: '#FFD700',\r\n                    end: '#FF8C00'\r\n                },\r\n                {\r\n                    start: '#FF6EC7',\r\n                    end: '#C154C1'\r\n                },\r\n                {\r\n                    start: '#00BFFF',\r\n                    end: '#9370DB'\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        setChart() {\r\n            if (!this.data || this.data.length === 0) return\r\n            \r\n            const option = {\r\n                title: {\r\n                    show: false\r\n                },\r\n                tooltip: {\r\n                    trigger: 'item',\r\n                    backgroundColor: 'rgba(17, 54, 122, 0.9)',\r\n                    borderColor: '#2ca8fe',\r\n                    borderWidth: 1,\r\n                    textStyle: {\r\n                        color: '#75deef',\r\n                        fontSize: 11\r\n                    },\r\n                    formatter: params => {\r\n                        return `<span style=\"color: ${params.color}\">${params.name}</span><br/>\r\n                               数量: <span style=\"color: #feed2c; font-weight: bold\">${params.value}</span>`;\r\n                    }\r\n                },\r\n                legend: {\r\n                    orient: 'vertical',\r\n                    right: 5,\r\n                    top: 'center',\r\n                    itemWidth: 14,\r\n                    itemHeight: 14,\r\n                    itemGap: 12,\r\n                    textStyle: {\r\n                        color: '#75deef',\r\n                        fontSize: 12,\r\n                        padding: [3, 0, 0, 3]\r\n                    },\r\n                    formatter: name => {\r\n                        const item = this.data.find(item => item.name === name);\r\n                        return `${name}`;\r\n                    },\r\n                    data: this.data.map(item => ({\r\n                        name: item.name,\r\n                        icon: 'roundRect'\r\n                    }))\r\n                },\r\n                series: [\r\n                    {\r\n                        name: '职位需求',\r\n                        type: 'funnel',\r\n                        left: '5%',\r\n                        top: 30,\r\n                        width: '60%',\r\n                        height: '75%',\r\n                        min: 0,\r\n                        max: Math.max(...this.data.map(item => item.value)),\r\n                        minSize: '30%',\r\n                        maxSize: '100%',\r\n                        sort: 'descending',\r\n                        gap: 3,\r\n                        label: {\r\n                            show: true,\r\n                            position: 'inside',\r\n                            formatter: '{b}',\r\n                            fontSize: 11,\r\n                            color: '#fff',\r\n                            fontWeight: 'bold',\r\n                            textShadowBlur: 3,\r\n                            textShadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                        },\r\n                        labelLine: {\r\n                            show: false\r\n                        },\r\n                        emphasis: {\r\n                            label: {\r\n                                fontSize: 13,\r\n                                fontWeight: 'bold',\r\n                                color: '#fff'\r\n                            },\r\n                            itemStyle: {\r\n                                borderWidth: 2,\r\n                                borderColor: '#feed2c',\r\n                                shadowBlur: 15,\r\n                                shadowColor: 'rgba(254, 237, 44, 0.5)'\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            borderWidth: 1,\r\n                            borderColor: 'rgba(13, 36, 81, 0.8)',\r\n                            shadowBlur: 10,\r\n                            shadowColor: 'rgba(0, 0, 0, 0.3)',\r\n                            shadowOffsetX: 2,\r\n                            shadowOffsetY: 2\r\n                        },\r\n                        data: this.data.map((item, index) => ({\r\n                            value: item.value,\r\n                            name: item.name,\r\n                            itemStyle: {\r\n                                color: {\r\n                                    type: 'linear',\r\n                                    x: 0,\r\n                                    y: 0,\r\n                                    x2: 1,\r\n                                    y2: 1,\r\n                                    colorStops: [\r\n                                        {\r\n                                            offset: 0,\r\n                                            color: this.colors[index % this.colors.length].start\r\n                                        },\r\n                                        {\r\n                                            offset: 1,\r\n                                            color: this.colors[index % this.colors.length].end\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }\r\n                        }))\r\n                    }\r\n                ]\r\n            };\r\n            \r\n            if (!this.myChart) this.myChart = this.$echarts(this.$el);\r\n            this.myChart.clear();\r\n            this.myChart.resize();\r\n            this.myChart.setOption(option);\r\n            \r\n            // 添加鼠标悬停动画\r\n            this.myChart.on('mouseover', params => {\r\n                if (params.seriesType === 'funnel') {\r\n                    this.myChart.dispatchAction({\r\n                        type: 'highlight',\r\n                        seriesIndex: 0,\r\n                        dataIndex: params.dataIndex\r\n                    });\r\n                }\r\n            });\r\n            \r\n            this.myChart.on('mouseout', params => {\r\n                if (params.seriesType === 'funnel') {\r\n                    this.myChart.dispatchAction({\r\n                        type: 'downplay',\r\n                        seriesIndex: 0,\r\n                        dataIndex: params.dataIndex\r\n                    });\r\n                }\r\n            });\r\n            \r\n            // 添加自动轮播高亮效果\r\n            let currentIndex = 0;\r\n            setInterval(() => {\r\n                this.myChart.dispatchAction({\r\n                    type: 'downplay',\r\n                    seriesIndex: 0\r\n                });\r\n                \r\n                currentIndex = (currentIndex + 1) % this.data.length;\r\n                \r\n                this.myChart.dispatchAction({\r\n                    type: 'highlight',\r\n                    seriesIndex: 0,\r\n                    dataIndex: currentIndex\r\n                });\r\n            }, 3000);\r\n        }\r\n    },\r\n    watch: {\r\n        data: {\r\n            handler() {\r\n                this.setChart();\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    mounted() {\r\n        this.setChart();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.job-funnel {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    \r\n    &:before {\r\n        content: '';\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: radial-gradient(ellipse at center, rgba(13, 36, 81, 0) 0%, rgba(13, 36, 81, 0.15) 100%);\r\n        pointer-events: none;\r\n        z-index: 1;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./jobFunnel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./jobFunnel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./jobFunnel.vue?vue&type=template&id=aeaee9ce&scoped=true\"\nimport script from \"./jobFunnel.vue?vue&type=script&lang=js\"\nexport * from \"./jobFunnel.vue?vue&type=script&lang=js\"\nimport style0 from \"./jobFunnel.vue?vue&type=style&index=0&id=aeaee9ce&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aeaee9ce\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/.store/less-loader@5.0.0/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./jobFunnel.vue?vue&type=style&index=0&id=aeaee9ce&prod&lang=less&scoped=true\""],"sourceRoot":""}