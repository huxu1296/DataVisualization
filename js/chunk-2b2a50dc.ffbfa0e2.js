(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b2a50dc"],{"0b2c":function(t,e,a){},7378:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"emerging-job-chart"},[t._m(0),e("div",{directives:[{name:"show",rawName:"v-show",value:"chart"===a.viewMode,expression:"viewMode === 'chart'"}],ref:"chartContainer",staticClass:"chart-container"}),e("div",{directives:[{name:"show",rawName:"v-show",value:"cards"===a.viewMode,expression:"viewMode === 'cards'"}],staticClass:"job-cards-container"},t._l(a.jobData,(function(s,i){return e("div",{key:i,staticClass:"job-card",class:{active:a.selectedJobIndex===i},on:{click:function(t){return a.selectJob(i)}}},[e("div",{staticClass:"job-header"},[e("div",{staticClass:"job-title"},[t._v(t._s(s.job_title))]),e("div",{staticClass:"job-rank"},[e("span",{staticClass:"rank-number"},[t._v("#"+t._s(i+1))]),e("span",{staticClass:"trend-badge",class:s.trendClass},[t._v(t._s(s.trendText))])])]),e("div",{staticClass:"metric-container"},[e("div",{staticClass:"metric-row"},[e("div",{staticClass:"metric salary"},[e("div",{staticClass:"metric-value"},[t._v(t._s(a.formatSalary(s.avg_salary)))]),e("div",{staticClass:"metric-label"},[t._v("平均薪资")]),e("div",{staticClass:"metric-icon"},[t._v("💰")])]),e("div",{staticClass:"metric count"},[e("div",{staticClass:"metric-value"},[t._v(t._s(a.formatNumber(s.count)))]),e("div",{staticClass:"metric-label"},[t._v("招聘数量")]),e("div",{staticClass:"metric-icon"},[t._v("👥")])])]),e("div",{staticClass:"score-bar"},[e("div",{staticClass:"score-label"},[t._v("综合评分")]),e("div",{staticClass:"score-track"},[e("div",{staticClass:"score-value",style:{width:s.score+"%"}},[t._v(" "+t._s(s.score.toFixed(1))+" ")])])]),e("div",{staticClass:"job-details"},[e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("就业前景:")]),e("span",{staticClass:"detail-rating"},t._l(5,(function(a){return e("span",{key:a,staticClass:"star",class:{filled:a<=s.prospectRating}},[t._v("★")])})),0)])])])])})),0),e("div",{staticClass:"view-toggle"},[e("button",{staticClass:"toggle-btn",class:{active:"chart"===a.viewMode},on:{click:function(t){return a.setViewMode("chart")}}},[e("i",{staticClass:"toggle-icon"},[t._v("📊")]),t._v("图表视图 ")]),e("button",{staticClass:"toggle-btn",class:{active:"cards"===a.viewMode},on:{click:function(t){return a.setViewMode("cards")}}},[e("i",{staticClass:"toggle-icon"},[t._v("🗂️")]),t._v("卡片视图 ")])])])},i=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chart-title"},[e("span",{staticClass:"title-text"}),e("div",{staticClass:"title-decoration"})])}],o=(a("25c1"),a("6d95"),a("6823"),a("5923")),l=a("ada4"),n={__name:"EmergingJobChart",props:{data:{type:Array,default:()=>[]}},setup(t){const e=t,a=Object(o["ref"])(null),s=Object(o["ref"])("chart"),i=Object(o["ref"])(0);let n=null;const r=t=>{const e=["互联网","金融","IT服务","教育","医疗","制造业","零售","咨询","通信","房地产"],a=1+Math.floor(3*Math.random()),s=[];if(t.job_title.includes("开发")||t.job_title.includes("工程师")||t.job_title.includes("程序"))s.push("互联网","IT服务");else if(t.job_title.includes("销售")||t.job_title.includes("营销"))s.push("零售","咨询");else if(t.job_title.includes("金融")||t.job_title.includes("分析"))s.push("金融","咨询");else if(t.job_title.includes("教育")||t.job_title.includes("老师"))s.push("教育");else if(t.job_title.includes("医")||t.job_title.includes("护"))s.push("医疗");else while(s.length<a){const t=e[Math.floor(Math.random()*e.length)];s.includes(t)||s.push(t)}return s},c=Object(o["computed"])(()=>{if(!e.data||!e.data.length)return[];const t=Math.max(...e.data.map(t=>"number"===typeof t.avg_salary?t.avg_salary:parseFloat(t.avg_salary)||0)),a=Math.max(...e.data.map(t=>"number"===typeof t.count?t.count:parseFloat(t.count)||0));return e.data.map(e=>{const s="number"===typeof e.avg_salary?e.avg_salary:parseFloat(e.avg_salary)||0,i="number"===typeof e.count?e.count:parseFloat(e.count)||0,o=s/t,l=i/a,n=100*(.7*o+.3*l);let c,d,f;n>=75?(c="rapid-rise",d="快速增长",f="trend-rapid-rise"):n>=50?(c="rise",d="稳步上升",f="trend-rise"):n>=25?(c="stable",d="需求稳定",f="trend-stable"):(c="decline",d="需求下降",f="trend-decline");const p=Math.ceil(n/100*5),u=r(e);return{job_title:e.job_title||"未知职位",avg_salary:s,count:i,score:n,trend:c,trendText:d,trendClass:f,prospectRating:p,industries:u}})}),d=t=>("number"!==typeof t&&(t=parseFloat(t)||0),t.toFixed(1)+"K"),f=t=>("number"!==typeof t&&(t=parseFloat(t)||0),t>=1e4?(t/1e4).toFixed(1)+"万":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p=()=>{if(!a.value||0===c.value.length)return;n&&n.dispose(),n=l["init"](a.value);const t=c.value.map(t=>t.job_title.length>8?t.job_title.substring(0,8)+"...":t.job_title),e=c.value.map(t=>t.avg_salary),s=c.value.map(t=>t.count),o=c.value.map(t=>t.score),r={backgroundColor:"transparent",title:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:t=>{const e=t[0].dataIndex,a=c.value[e];return a?`\n          <div style="font-family: 'Microsoft YaHei', sans-serif;">\n            <div style="font-weight:bold;color:#6EDDF1;margin-bottom:8px;font-size:16px;">${a.job_title}</div>\n            <div style="display:flex;justify-content:space-between;margin-bottom:5px;">\n              <span style="color:#eee;min-width:70px;">平均薪资:</span>\n              <span style="color:#FFD700;font-weight:bold;">${d(a.avg_salary)}</span>\n            </div>\n            <div style="display:flex;justify-content:space-between;margin-bottom:5px;">\n              <span style="color:#eee;min-width:70px;">招聘数量:</span>\n              <span style="color:#fff;font-weight:bold;">${f(a.count)}</span>\n            </div>\n            <div style="display:flex;justify-content:space-between;margin-bottom:5px;">\n              <span style="color:#eee;min-width:70px;">综合评分:</span>\n              <span style="color:#FF7E45;font-weight:bold;">${a.score.toFixed(1)}</span>\n            </div>\n            <div style="display:flex;justify-content:space-between;margin-bottom:5px;">\n              <span style="color:#eee;min-width:70px;">发展趋势:</span>\n              <span style="color:#fff;">${a.trendText}</span>\n            </div>\n          </div>\n        `:""},backgroundColor:"rgba(13, 36, 81, 0.9)",borderColor:"rgba(109, 198, 255, 0.4)",borderWidth:1,padding:10,textStyle:{color:"#fff"}},grid:{top:60,bottom:40,left:50,right:50,containLabel:!0},legend:{data:["平均薪资","招聘数量","综合评分"],textStyle:{color:"#ddd"},top:20,itemGap:30},xAxis:[{type:"category",data:t,axisLabel:{color:"#fff",rotate:45,fontSize:12,interval:0,hideOverlap:!0},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisTick:{alignWithLabel:!0,lineStyle:{color:"rgba(255, 255, 255, 0.3)"}}}],yAxis:[{type:"value",name:"平均薪资 (K)",position:"left",nameTextStyle:{color:"#00c0ff",fontSize:12,padding:[0,0,0,-20]},axisLabel:{color:"#ddd",formatter:"{value}K"},axisLine:{show:!0,lineStyle:{color:"#00c0ff"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},{type:"value",name:"招聘数量",position:"right",nameTextStyle:{color:"#ff7a45",fontSize:12,padding:[0,-20,0,0]},axisLabel:{color:"#ddd",formatter:t=>t>=1e4?(t/1e4).toFixed(1)+"万":t},axisLine:{show:!0,lineStyle:{color:"#ff7a45"}},splitLine:{show:!1}}],series:[{name:"平均薪资",type:"bar",data:e,itemStyle:{color:new l["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#00c0ff"},{offset:1,color:"#0082af"}]),borderRadius:[6,6,0,0]},barWidth:"25%",barGap:"30%",label:{show:!0,position:"top",formatter:"{c}K",color:"#fff",fontSize:12},emphasis:{itemStyle:{color:new l["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#33d6ff"},{offset:1,color:"#00a3d9"}])}}},{name:"招聘数量",type:"bar",yAxisIndex:1,data:s,itemStyle:{color:new l["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#ff7a45"},{offset:1,color:"#cc4400"}]),borderRadius:[6,6,0,0]},barWidth:"25%",label:{show:!0,position:"top",color:"#fff",fontSize:12,formatter:t=>{const e=t.value;return e>=1e4?(e/1e4).toFixed(1)+"万":e}},emphasis:{itemStyle:{color:new l["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#ff956c"},{offset:1,color:"#ee5522"}])}}},{name:"综合评分",type:"line",smooth:!0,symbol:"circle",symbolSize:10,data:o,z:3,lineStyle:{width:4,color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#faad14"},{offset:1,color:"#ff6e76"}]},shadowColor:"rgba(250, 173, 20, 0.3)",shadowBlur:10},itemStyle:{color:"#faad14",borderWidth:3,borderColor:"#fff"},label:{show:!0,position:"top",formatter:t=>t.value.toFixed(1),color:"#faad14",fontSize:12,fontWeight:"bold"},emphasis:{scale:!0}}],animationDuration:2e3,animationEasing:"elasticOut",animationDelayUpdate:t=>200*t};n.setOption(r),n.on("click",t=>{"series"===t.componentType&&(i.value=t.dataIndex,u("cards"))})},u=t=>{s.value=t,"chart"===t&&a.value&&setTimeout(()=>{p()},50)},v=t=>{i.value=t};return Object(o["onMounted"])(()=>{c.value&&c.value.length>0&&p()}),Object(o["watch"])(()=>e.data,t=>{t&&t.length>0&&p()},{deep:!0}),window.addEventListener("resize",()=>{n&&"chart"===s.value&&n.resize()}),{__sfc:!0,props:e,chartContainer:a,viewMode:s,selectedJobIndex:i,chartInstance:n,generateIndustries:r,jobData:c,formatSalary:d,formatNumber:f,initChart:p,setViewMode:u,selectJob:v}}},r=n,c=(a("cd4f"),a("1805")),d=Object(c["a"])(r,s,i,!1,null,"4ac63da0",null);e["default"]=d.exports},cd4f:function(t,e,a){"use strict";a("0b2c")}}]);
//# sourceMappingURL=chunk-2b2a50dc.ffbfa0e2.js.map