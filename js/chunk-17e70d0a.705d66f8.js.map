{"version":3,"sources":["webpack:///./src/views/components/page3/RegionCountChart.vue?8fdb","webpack:///./src/views/components/page3/RegionCountChart.vue","webpack:///RegionCountChart.vue","webpack:///./src/views/components/page3/RegionCountChart.vue?9ae9","webpack:///./src/views/components/page3/RegionCountChart.vue?63b9"],"names":["render","_vm","this","_self","_c","_setupProxy","_m","staticRenderFns","staticClass","_v","attrs","chartInstance","ref","initChart","props","data","length","chartDom","document","getElementById","value","echarts","cities","map","item","cityName","city","substring","slice","counts","count","parseFloat","option","backgroundColor","tooltip","trigger","axisPointer","type","formatter","params","idx","dataIndex","toLocaleString","borderColor","borderWidth","textStyle","color","grid","left","right","bottom","top","containLabel","xAxis","name","nameTextStyle","align","padding","axisLabel","toFixed","axisLine","lineStyle","splitLine","yAxis","fontSize","margin","axisTick","alignWithLabel","series","itemStyle","LinearGradient","offset","borderRadius","label","show","position","barWidth","animationDuration","animationEasing","setOption","window","addEventListener","resize","watch","newData","dispose","deep","onMounted","component"],"mappings":"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","file":"js/chunk-17e70d0a.705d66f8.js","sourcesContent":["export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./RegionCountChart.vue?vue&type=style&index=0&id=397cbcaa&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"region-chart\"},[_c('h3',{staticClass:\"chart-title\"},[_vm._v(\"üìä ÊãõËÅòÂ≤ó‰ΩçÊï∞ Top10 ÂüéÂ∏Ç\")]),_c('div',{staticClass:\"chart-container\",attrs:{\"id\":\"topCountBarChart\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"region-chart\">\r\n    <h3 class=\"chart-title\">üìä ÊãõËÅòÂ≤ó‰ΩçÊï∞ Top10 ÂüéÂ∏Ç</h3>\r\n    <div id=\"topCountBarChart\" class=\"chart-container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from 'vue'\r\nimport * as echarts from 'echarts'\r\n\r\nconst props = defineProps({\r\n  data: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst chartInstance = ref(null)\r\n\r\n// ÂàùÂßãÂåñÂõæË°®\r\nconst initChart = () => {\r\n  if (!props.data || props.data.length === 0) return\r\n  \r\n  // Á°Æ‰øùdomÂÖÉÁ¥†Â∑≤Âä†ËΩΩ\r\n  const chartDom = document.getElementById('topCountBarChart')\r\n  if (!chartDom) return\r\n  \r\n  chartInstance.value = echarts.init(chartDom)\r\n  \r\n  // Â§ÑÁêÜÂüéÂ∏ÇÂêçÁß∞ÂíåÊï∞ÊçÆ\r\n  const cities = props.data.map(item => {\r\n    // Â¶ÇÊûúÂüéÂ∏ÇÂêçÁß∞Â§™ÈïøÔºåÊà™ÂèñÂâç4‰∏™Â≠óÁ¨¶Âä†ÁúÅÁï•Âè∑\r\n    const cityName = item.city && item.city.length > 4 ? \r\n      item.city.substring(0, 4) + '..' : \r\n      (item.city || 'Êú™Áü•')\r\n    return cityName\r\n  }).slice(0, 10) // Âè™ÂèñÂâç10‰∏™\r\n  \r\n  // Á°Æ‰øùÂ≤ó‰ΩçÊï∞ÊòØÊï∞Â≠óÁ±ªÂûã\r\n  const counts = props.data.map(item => {\r\n    const count = typeof item.count === 'number' ? \r\n      item.count : parseFloat(item.count) || 0\r\n    return count\r\n  }).slice(0, 10)\r\n  \r\n  const option = {\r\n    backgroundColor: 'transparent',\r\n    tooltip: {\r\n      trigger: 'axis',\r\n      axisPointer: { type: 'shadow' },\r\n      formatter: (params) => {\r\n        const idx = params[0].dataIndex\r\n        const item = props.data[idx]\r\n        const city = item.city || 'Êú™Áü•'\r\n        const count = typeof item.count === 'number' ? \r\n          item.count : parseFloat(item.count) || 0\r\n            \r\n        return `<div style=\"font-weight:bold;margin-bottom:5px\">${city}</div>\r\n                <span style=\"display:inline-block;width:10px;height:10px;border-radius:50%;background:#FFA07A;\"></span>\r\n                <span style=\"margin-left:5px\">Â≤ó‰ΩçÊï∞Èáè: ${count.toLocaleString()}</span>`\r\n      },\r\n      backgroundColor: 'rgba(13, 36, 81, 0.9)',\r\n      borderColor: 'rgba(109, 198, 255, 0.3)',\r\n      borderWidth: 1,\r\n      textStyle: { color: '#fff' }\r\n    },\r\n    grid: {\r\n      left: '3%',\r\n      right: '4%',\r\n      bottom: '3%',\r\n      top: '3%',\r\n      containLabel: true\r\n    },\r\n    xAxis: { \r\n      type: 'value', \r\n      name: 'Â≤ó‰ΩçÊï∞Èáè', \r\n      nameTextStyle: { color: '#aaa', align: 'right', padding: [0, 10, 0, 0] },\r\n      axisLabel: { \r\n        color: '#fff',\r\n        formatter: (value) => {\r\n          if (value >= 10000) {\r\n            return (value / 10000).toFixed(1) + '‰∏á'\r\n          }\r\n          return value\r\n        }\r\n      },\r\n      axisLine: {\r\n        lineStyle: { color: 'rgba(255, 255, 255, 0.2)' }\r\n      },\r\n      splitLine: {\r\n        lineStyle: { color: 'rgba(255, 255, 255, 0.1)' }\r\n      }\r\n    },\r\n    yAxis: {\r\n      type: 'category',\r\n      data: cities,\r\n      axisLabel: { \r\n        color: '#fff',\r\n        fontSize: 11,\r\n        margin: 10\r\n      },\r\n      axisLine: {\r\n        lineStyle: { color: 'rgba(255, 255, 255, 0.2)' }\r\n      },\r\n      axisTick: {\r\n        alignWithLabel: true,\r\n        lineStyle: { color: 'rgba(255, 255, 255, 0.2)' }\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        name: 'Â≤ó‰ΩçÊï∞Èáè',\r\n        type: 'bar',\r\n        data: counts,\r\n        itemStyle: { \r\n          color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\r\n            { offset: 0, color: '#FF7A45' },\r\n            { offset: 1, color: '#FFA07A' }\r\n          ]),\r\n          borderRadius: [0, 4, 4, 0]\r\n        },\r\n        label: {\r\n          show: true,\r\n          position: 'right',\r\n          color: '#fff',\r\n          formatter: (params) => {\r\n            const value = params.value\r\n            if (value >= 10000) {\r\n              return (value / 10000).toFixed(1) + '‰∏á'\r\n            }\r\n            return value\r\n          }\r\n        },\r\n        barWidth: '60%',\r\n        animationDuration: 1500,\r\n        animationEasing: 'elasticOut'\r\n      }\r\n    ]\r\n  }\r\n\r\n  chartInstance.value.setOption(option)\r\n  \r\n  // Ê∑ªÂä†Á™óÂè£Â§ßÂ∞èÂèòÂåñÁõëÂê¨\r\n  window.addEventListener('resize', () => {\r\n    if (chartInstance.value) {\r\n      chartInstance.value.resize()\r\n    }\r\n  })\r\n}\r\n\r\n// ÂΩìÊï∞ÊçÆÂèòÂåñÊó∂ÈáçÊñ∞ÁªòÂà∂ÂõæË°®\r\nwatch(() => props.data, (newData) => {\r\n  if (newData && newData.length > 0) {\r\n    // Â¶ÇÊûúÂõæË°®ÂÆû‰æãÂ∑≤Â≠òÂú®ÔºåÂÖàÈîÄÊØÅ\r\n    if (chartInstance.value) {\r\n      chartInstance.value.dispose()\r\n      chartInstance.value = null\r\n    }\r\n    // ÈáçÊñ∞ÂàùÂßãÂåñÂõæË°®\r\n    initChart()\r\n  }\r\n}, { deep: true })\r\n\r\nonMounted(() => {\r\n  if (props.data && props.data.length > 0) {\r\n    initChart()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.region-chart {\r\n  background-color: #1b1b4a;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 6px #0d2451;\r\n  margin-bottom: 12px;\r\n  height: calc(100% - 12px);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.chart-title {\r\n  color: #ffdda0;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n  text-align: center;\r\n  text-shadow: 0 0 10px rgba(255, 221, 160, 0.3);\r\n}\r\n.chart-container {\r\n  flex: 1;\r\n  width: 100%;\r\n  background-color: transparent; /* Á°Æ‰øùËÉåÊôØÈÄèÊòé */\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./RegionCountChart.vue?vue&type=script&setup=true&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./RegionCountChart.vue?vue&type=script&setup=true&lang=js\"","import { render, staticRenderFns } from \"./RegionCountChart.vue?vue&type=template&id=397cbcaa&scoped=true\"\nimport script from \"./RegionCountChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RegionCountChart.vue?vue&type=script&setup=true&lang=js\"\nimport style0 from \"./RegionCountChart.vue?vue&type=style&index=0&id=397cbcaa&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"397cbcaa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}