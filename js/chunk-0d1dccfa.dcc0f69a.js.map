{"version":3,"sources":["webpack:///./src/views/components/page3/chartSalaryDonut.vue?460a","webpack:///./src/views/components/page3/chartSalaryDonut.vue","webpack:///src/views/components/page3/chartSalaryDonut.vue","webpack:///./src/views/components/page3/chartSalaryDonut.vue?67e1","webpack:///./src/views/components/page3/chartSalaryDonut.vue?60ee"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","staticStyle","_m","staticRenderFns","name","props","data","Array","chart","watch","handler","val","length","$nextTick","drawChart","deep","mounted","echarts","$refs","window","addEventListener","handleResize","beforeUnmount","removeEventListener","dispose","methods","resize","displayData","slice","total","cols","rows","Math","ceil","option","backgroundColor","tooltip","trigger","formatter","params","city","floor","seriesIndex","metricName","value","borderColor","borderWidth","textStyle","color","series","forEach","item","i","row","col","radius1","radius2","radius3","centerX","centerY","push","type","radius","center","label","position","substring","fontSize","fontWeight","shadowBlur","shadowColor","labelLine","show","salary_range_count","itemStyle","LinearGradient","offset","animation","animationDuration","animationEasing","animationDelay","idx","education_count","experience_count","silent","setOption","component"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIK,GAAG,gBAAgBH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACI,IAAI,QAAQC,YAAY,CAAC,MAAQ,OAAO,OAAS,WAAWP,EAAIQ,GAAG,MAExRC,EAAkB,CAAC,WAAY,IAAIT,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,MAAMG,YAAY,CAAC,mBAAmB,aAAaL,EAAG,OAAO,CAACF,EAAIK,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,MAAMG,YAAY,CAAC,mBAAmB,aAAaL,EAAG,OAAO,CAACF,EAAIK,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,MAAMG,YAAY,CAAC,mBAAmB,aAAaL,EAAG,OAAO,CAACF,EAAIK,GAAG,iB,4CC0Bzf,GACfK,KAAA,mBACAC,MAAA,CACAC,KAAAC,OAEAD,OACA,OACAE,MAAA,OAGAC,MAAA,CACAH,KAAA,CACAI,QAAAC,GACAA,KAAAC,OAAA,GACA,KAAAC,UAAA,KACA,KAAAC,eAIAC,MAAA,IAGAC,UACA,KAAAR,MAAAS,UAAA,KAAAC,MAAAV,OACAW,OAAAC,iBAAA,cAAAC,cAEA,KAAAf,MAAA,KAAAA,KAAAM,OAAA,GACA,KAAAE,aAGAQ,gBACAH,OAAAI,oBAAA,cAAAF,cACA,KAAAb,QACA,KAAAA,MAAAgB,UACA,KAAAhB,MAAA,OAGAiB,QAAA,CACAJ,eACA,KAAAb,OACA,KAAAA,MAAAkB,UAGAZ,YACA,SAAAN,QAAA,KAAAF,MAAA,SAAAA,KAAAM,OAAA,OAGA,MAAAe,EAAA,KAAArB,KAAAsB,MAAA,KACAC,EAAAF,EAAAf,OACAkB,EAAA,EACAC,EAAAC,KAAAC,KAAAJ,EAAAC,GAEAI,EAAA,CACAC,gBAAA,cACAC,QAAA,CACAC,QAAA,OACAC,UAAAC,IACA,MAAAC,EAAAb,EAAAK,KAAAS,MAAAF,EAAAG,YAAA,IAAAF,KACA,IAAAG,EAAA,GAEA,OAAAJ,EAAAnC,MACA,UACAuC,EAAA,QACA,MACA,SACAA,EAAA,QACA,MACA,SACAA,EAAA,QACA,MAGA,SAAAH,SAAAG,MAAAJ,EAAAK,SAEAT,gBAAA,wBACAU,YAAA,2BACAC,YAAA,EACAC,UAAA,CACAC,MAAA,SAGAC,OAAA,IAIAtB,EAAAuB,QAAA,CAAAC,EAAAC,KACA,MAAAC,EAAArB,KAAAS,MAAAW,EAAAtB,GACAwB,EAAAF,EAAAtB,EAGAyB,EAAA,cACAC,EAAA,cACAC,EAAA,cAGAC,GAAAJ,EAAA,SAAAxB,GAAA,IACA6B,GAAAN,EAAA,SAAAtB,GAAA,IAGAG,EAAAe,OAAAW,KAAA,CACAC,KAAA,MACAC,OAAAP,EACAQ,OAAA,CAAAL,EAAAC,GACAK,MAAA,CACAC,SAAA,SACA3B,UAAAa,EAAAX,KAAA5B,OAAA,EAAAuC,EAAAX,KAAA0B,UAAA,UAAAf,EAAAX,KACAQ,MAAA,UACAmB,SAAA,GACAC,WAAA,OACAC,WAAA,EACAC,YAAA,sBAEAC,UAAA,CAAAC,MAAA,GACAlE,KAAA,CACA,CACAsC,MAAAO,EAAAsB,oBAAA,EACArE,KAAA,MACAsE,UAAA,CACA1B,MAAA,IAAA/B,aAAA0D,eAAA,SACA,CAAAC,OAAA,EAAA5B,MAAA,WACA,CAAA4B,OAAA,EAAA5B,MAAA,eAIA,CACAJ,MAAA,EACAxC,KAAA,GACAsE,UAAA,CAAA1B,MAAA,iBAGA6B,WAAA,EACAC,kBAAA,IACAC,gBAAA,WACAC,eAAAC,GAAA,GAAAA,EAAA,IAAA7B,IAIAlB,EAAAe,OAAAW,KAAA,CACAC,KAAA,MACAC,OAAAN,EACAO,OAAA,CAAAL,EAAAC,GACAK,MAAA,CAAAQ,MAAA,GACAD,UAAA,CAAAC,MAAA,GACAlE,KAAA,CACA,CACAsC,MAAAO,EAAA+B,iBAAA,EACA9E,KAAA,KACAsE,UAAA,CACA1B,MAAA,IAAA/B,aAAA0D,eAAA,SACA,CAAAC,OAAA,EAAA5B,MAAA,WACA,CAAA4B,OAAA,EAAA5B,MAAA,eAIA,CACAJ,MAAA,EACAxC,KAAA,GACAsE,UAAA,CAAA1B,MAAA,iBAGA6B,WAAA,EACAC,kBAAA,IACAC,gBAAA,WACAC,eAAAC,GAAA,GAAAA,EAAA,IAAA7B,EAAA,MAIAlB,EAAAe,OAAAW,KAAA,CACAC,KAAA,MACAC,OAAAL,EACAM,OAAA,CAAAL,EAAAC,GACAK,MAAA,CAAAQ,MAAA,GACAD,UAAA,CAAAC,MAAA,GACAlE,KAAA,CACA,CACAsC,MAAAO,EAAAgC,kBAAA,EACA/E,KAAA,KACAsE,UAAA,CACA1B,MAAA,IAAA/B,aAAA0D,eAAA,SACA,CAAAC,OAAA,EAAA5B,MAAA,WACA,CAAA4B,OAAA,EAAA5B,MAAA,eAIA,CACAJ,MAAA,EACAxC,KAAA,GACAsE,UAAA,CAAA1B,MAAA,iBAGA6B,WAAA,EACAC,kBAAA,IACAC,gBAAA,WACAC,eAAAC,GAAA,GAAAA,EAAA,IAAA7B,EAAA,MAIAlB,EAAAe,OAAAW,KAAA,CACAC,KAAA,MACAC,OAAA,cACAC,OAAA,CAAAL,EAAAC,GACAyB,QAAA,EACApB,MAAA,CAAAQ,MAAA,GACAD,UAAA,CAAAC,MAAA,GACAlE,KAAA,CACA,CACAsC,MAAA,EACAxC,KAAA,GACAsE,UAAA,CACA1B,MAAA,IAAA/B,aAAA0D,eAAA,SACA,CAAAC,OAAA,EAAA5B,MAAA,4BACA,CAAA4B,OAAA,GAAA5B,MAAA,4BACA,CAAA4B,OAAA,EAAA5B,MAAA,iCAKA6B,WAAA,EACAC,kBAAA,IACAE,eAAAC,GAAA,GAAAA,EAAA,IAAA7B,EAAA,QAIA,KAAA5C,MAAA6E,UAAAnD,MC3P2jB,I,wBCQvjBoD,EAAY,eACd,EACA7F,EACAU,GACA,EACA,KACA,WACA,MAIa,aAAAmF,E","file":"js/chunk-0d1dccfa.dcc0f69a.js","sourcesContent":["export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./chartSalaryDonut.vue?vue&type=style&index=0&id=71fd0b54&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"donut-chart\"},[_c('h3',{staticClass:\"chart-title\"},[_vm._v(\"【城市薪酬多维特征】\")]),_c('div',{staticClass:\"chart-container\"},[_c('div',{ref:\"chart\",staticStyle:{\"width\":\"100%\",\"height\":\"85%\"}})]),_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"legend\"},[_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"dot\",staticStyle:{\"background-color\":\"#00CCFF\"}}),_c('span',[_vm._v(\"薪资区间数\")])]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"dot\",staticStyle:{\"background-color\":\"#EDCE43\"}}),_c('span',[_vm._v(\"学历类型数\")])]),_c('div',{staticClass:\"legend-item\"},[_c('span',{staticClass:\"dot\",staticStyle:{\"background-color\":\"#F83552\"}}),_c('span',[_vm._v(\"经验要求数\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"donut-chart\">\n    <h3 class=\"chart-title\">【城市薪酬多维特征】</h3>\n    \n    <div class=\"chart-container\">\n      <div ref=\"chart\" style=\"width: 100%; height: 85%\"></div>\n    </div>\n    \n    <div class=\"legend\">\n      <div class=\"legend-item\">\n        <span class=\"dot\" style=\"background-color: #00CCFF\"></span>\n        <span>薪资区间数</span>\n      </div>\n      <div class=\"legend-item\">\n        <span class=\"dot\" style=\"background-color: #EDCE43\"></span>\n        <span>学历类型数</span>\n      </div>\n      <div class=\"legend-item\">\n        <span class=\"dot\" style=\"background-color: #F83552\"></span>\n        <span>经验要求数</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\n\nexport default {\n  name: 'chartSalaryDonut',\n  props: {\n    data: Array\n  },\n  data() {\n    return {\n      chart: null\n    }\n  },\n  watch: {\n    data: {\n      handler(val) {\n        if (val && val.length > 0) {\n          this.$nextTick(() => {\n            this.drawChart()\n          })\n        }\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.chart = echarts.init(this.$refs.chart)\n    window.addEventListener('resize', this.handleResize)\n    \n    if (this.data && this.data.length > 0) {\n      this.drawChart()\n    }\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.handleResize)\n    if (this.chart) {\n      this.chart.dispose()\n      this.chart = null\n    }\n  },\n  methods: {\n    handleResize() {\n      if (this.chart) {\n        this.chart.resize()\n      }\n    },\n    drawChart() {\n      if (!this.chart || !this.data || this.data.length === 0) return\n      \n      // 限制显示的城市数量，确保图表不会过于拥挤\n      const displayData = this.data.slice(0, 6); // 只显示前6个城市\n      const total = displayData.length;\n      const cols = 3;\n      const rows = Math.ceil(total / cols);\n\n      const option = {\n        backgroundColor: 'transparent',\n        tooltip: {\n          trigger: 'item',\n          formatter: (params) => {\n            const city = displayData[Math.floor(params.seriesIndex / 3)].city\n            let metricName = '';\n            \n            switch (params.name) {\n              case '薪资段':\n                metricName = '薪资区间数';\n                break;\n              case '学历':\n                metricName = '学历类型数';\n                break;\n              case '经验':\n                metricName = '经验要求数';\n                break;\n            }\n            \n            return `${city}<br/>${metricName}: ${params.value}`;\n          },\n          backgroundColor: 'rgba(13, 36, 81, 0.8)',\n          borderColor: 'rgba(109, 198, 255, 0.3)',\n          borderWidth: 1,\n          textStyle: {\n            color: '#fff'\n          }\n        },\n        series: []\n      };\n      \n      // 为每个城市创建3个系列 (薪资、学历、经验)\n      displayData.forEach((item, i) => {\n        const row = Math.floor(i / cols);\n        const col = i % cols;\n        \n        // 圆环尺寸缩小，让图表更精致\n        const radius1 = ['16%', '22%']; // 薪资环\n        const radius2 = ['25%', '29%']; // 学历环\n        const radius3 = ['32%', '35%']; // 经验环\n        \n        // 计算中心位置\n        const centerX = `${((col + 0.5) * (100 / cols))}%`;\n        const centerY = `${((row + 0.5) * (100 / rows))}%`;\n        \n        // 1. 薪资环形图\n        option.series.push({\n          type: 'pie',\n          radius: radius1,\n          center: [centerX, centerY],\n          label: {\n            position: 'center',\n            formatter: item.city.length > 4 ? item.city.substring(0, 4) + '..' : item.city, // 截断长城市名\n            color: '#00CCFF',\n            fontSize: 12,\n            fontWeight: 'bold',\n            shadowBlur: 3,\n            shadowColor: 'rgba(0, 0, 0, 0.3)'\n          },\n          labelLine: { show: false },\n          data: [\n            { \n              value: item.salary_range_count || 1, // 防止值为0\n              name: '薪资段', \n              itemStyle: { \n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  { offset: 0, color: '#00CCFF' },\n                  { offset: 1, color: '#0066AA' }\n                ])\n              } \n            },\n            { \n              value: 0, \n              name: '', \n              itemStyle: { color: 'transparent' } \n            }\n          ],\n          animation: true,\n          animationDuration: 1000,\n          animationEasing: 'cubicOut',\n          animationDelay: (idx) => idx * 50 + i * 100\n        });\n        \n        // 2. 学历环形图\n        option.series.push({\n          type: 'pie',\n          radius: radius2,\n          center: [centerX, centerY],\n          label: { show: false },\n          labelLine: { show: false },\n          data: [\n            { \n              value: item.education_count || 1, \n              name: '学历', \n              itemStyle: { \n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  { offset: 0, color: '#EDCE43' },\n                  { offset: 1, color: '#D4A017' }\n                ])\n              } \n            },\n            { \n              value: 0, \n              name: '', \n              itemStyle: { color: 'transparent' } \n            }\n          ],\n          animation: true,\n          animationDuration: 1000,\n          animationEasing: 'cubicOut',\n          animationDelay: (idx) => idx * 50 + i * 100 + 100\n        });\n        \n        // 3. 经验环形图\n        option.series.push({\n          type: 'pie',\n          radius: radius3,\n          center: [centerX, centerY],\n          label: { show: false },\n          labelLine: { show: false },\n          data: [\n            { \n              value: item.experience_count || 1, \n              name: '经验', \n              itemStyle: { \n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n                  { offset: 0, color: '#F83552' },\n                  { offset: 1, color: '#C02030' }\n                ])\n              }\n            },\n            { \n              value: 0, \n              name: '', \n              itemStyle: { color: 'transparent' } \n            }\n          ],\n          animation: true,\n          animationDuration: 1000,\n          animationEasing: 'cubicOut',\n          animationDelay: (idx) => idx * 50 + i * 100 + 200\n        });\n        \n        // 添加渐变边框效果\n        option.series.push({\n          type: 'pie',\n          radius: ['37%', '38%'],\n          center: [centerX, centerY],\n          silent: true,\n          label: { show: false },\n          labelLine: { show: false },\n          data: [\n            { \n              value: 1, \n              name: '', \n              itemStyle: { \n                color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [\n                  { offset: 0, color: 'rgba(109, 198, 255, 0.1)' },\n                  { offset: 0.5, color: 'rgba(109, 198, 255, 0.5)' },\n                  { offset: 1, color: 'rgba(109, 198, 255, 0.1)' }\n                ])\n              } \n            }\n          ],\n          animation: true,\n          animationDuration: 1000,\n          animationDelay: (idx) => idx * 50 + i * 100 + 300\n        });\n      });\n\n      this.chart.setOption(option)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.donut-chart {\n  height: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.chart-title {\n  text-align: center;\n  color: #6EDDF1;\n  font-size: 16px;\n  margin: 45px 0 10px;\n  text-shadow: 0 0 10px rgba(110, 221, 241, 0.3);\n}\n\n.chart-container {\n  flex: 1;\n}\n\n.legend {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  font-size: 12px;\n  background: rgba(13, 36, 81, 0.3);\n  border-radius: 15px;\n  padding: 6px 10px;\n  margin: 0 auto;\n  width: fit-content;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  color: #eee;\n}\n\n.dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  margin-right: 5px;\n  box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);\n}\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./chartSalaryDonut.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./chartSalaryDonut.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./chartSalaryDonut.vue?vue&type=template&id=71fd0b54&scoped=true\"\nimport script from \"./chartSalaryDonut.vue?vue&type=script&lang=js\"\nexport * from \"./chartSalaryDonut.vue?vue&type=script&lang=js\"\nimport style0 from \"./chartSalaryDonut.vue?vue&type=style&index=0&id=71fd0b54&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71fd0b54\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}