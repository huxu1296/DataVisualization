(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc7e061e"],{"19d3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"job-profile-center"},[e("div",{staticClass:"title"},[t._v("职位画像分析")]),e("div",{staticClass:"starfield-bg"},[e("canvas",{ref:"starCanvas"})]),e("div",{staticClass:"profile-content"},[e("div",{staticClass:"profile-svg-container"},[e("svg",{staticClass:"profile-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 600 500"}},[e("g",{staticClass:"orbit-group"},[e("circle",{attrs:{cx:"300",cy:"250",r:"180",fill:"none",stroke:"rgba(44, 168, 254, 0.1)","stroke-width":"1","stroke-dasharray":"5,5"}},[e("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 300 250",to:"360 300 250",dur:"20s",repeatCount:"indefinite"}})],1),e("circle",{attrs:{cx:"300",cy:"250",r:"140",fill:"none",stroke:"rgba(44, 168, 254, 0.1)","stroke-width":"1","stroke-dasharray":"3,3"}},[e("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"360 300 250",to:"0 300 250",dur:"30s",repeatCount:"indefinite"}})],1),e("circle",{attrs:{cx:"300",cy:"250",r:"100",fill:"none",stroke:"rgba(44, 168, 254, 0.1)","stroke-width":"1","stroke-dasharray":"2,2"}},[e("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 300 250",to:"360 300 250",dur:"15s",repeatCount:"indefinite"}})],1)]),e("g",{staticClass:"core-group"},[e("circle",{attrs:{cx:"300",cy:"250",r:"0",fill:"none",stroke:"#2ca8fe","stroke-width":"3","stroke-opacity":"0"}},[e("animate",{attrs:{attributeName:"r",from:"0",to:"80",dur:"2s",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"stroke-opacity",from:"1",to:"0",dur:"2s",repeatCount:"indefinite"}})]),e("circle",{staticClass:"center-circle",attrs:{cx:"300",cy:"250",r:"60",fill:"url(#centerGradient)",stroke:"#2ca8fe","stroke-width":"2"}}),e("circle",{attrs:{cx:"300",cy:"250",r:"65",fill:"none",stroke:"url(#glowGradient)","stroke-width":"2",opacity:"0.8"}},[e("animate",{attrs:{attributeName:"stroke-width",from:"2",to:"6",dur:"1.5s",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"opacity",from:"0.8",to:"0.3",dur:"1.5s",repeatCount:"indefinite"}})])]),t._l(t.visibleProfiles,(function(i,a){return e("g",{key:a,class:{"profile-active":t.isActiveProfile(a)}},[e("g",{staticClass:"connection-group"},[e("line",{attrs:{x1:300,y1:250,x2:t.getNodeX(a),y2:t.getNodeY(a),stroke:"url(#lineGradient)","stroke-width":"2",opacity:"0.6"}}),e("circle",{attrs:{r:"2",fill:"#feed2c"}},[e("animateMotion",{attrs:{dur:"3s",repeatCount:"indefinite"}},[e("mpath",{attrs:{href:"#path"+a}})],1)],1),e("path",{attrs:{id:"path"+a,d:`M300,250 L${t.getNodeX(a)},${t.getNodeY(a)}`,fill:"none"}})]),e("g",{staticClass:"node-group",on:{click:function(e){return t.selectProfile(a+t.currentPage*t.pageSize)},mouseenter:function(e){t.hoveredNode=a},mouseleave:function(e){t.hoveredNode=-1}}},[e("circle",{class:{"node-glow-active":t.hoveredNode===a},attrs:{cx:t.getNodeX(a),cy:t.getNodeY(a),r:"35",fill:"url(#nodeGlowGradient)",opacity:"0.3"}}),e("circle",{staticClass:"node-circle",attrs:{cx:t.getNodeX(a),cy:t.getNodeY(a),r:"30",fill:"rgba(3, 4, 74, 0.9)",stroke:"#2ca8fe","stroke-width":"1.5"}}),e("circle",{attrs:{cx:t.getNodeX(a),cy:t.getNodeY(a),r:"25",fill:"none",stroke:"rgba(44, 168, 254, 0.3)","stroke-width":"1","stroke-dasharray":"2,2"}},[e("animateTransform",{attrs:{attributeName:"transform",values:`0 ${t.getNodeX(a)} ${t.getNodeY(a)};360 ${t.getNodeX(a)} ${t.getNodeY(a)}`,dur:"10s",repeatCount:"indefinite"}})],1)]),e("foreignObject",{attrs:{x:t.getNodeX(a)-40,y:t.getNodeY(a)-15,width:"80",height:"30"}},[e("div",{staticClass:"profile-node-text",class:{"text-active":t.isActiveProfile(a)},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._v(" "+t._s(t.truncateTitle(i.title))+" ")])])])})),e("defs",[e("radialGradient",{attrs:{id:"centerGradient"}},[e("stop",{attrs:{offset:"0%","stop-color":"#75deef","stop-opacity":"0.8"}}),e("stop",{attrs:{offset:"100%","stop-color":"#2ca8fe","stop-opacity":"0.6"}})],1),e("radialGradient",{attrs:{id:"glowGradient"}},[e("stop",{attrs:{offset:"0%","stop-color":"#feed2c","stop-opacity":"0.8"}}),e("stop",{attrs:{offset:"100%","stop-color":"#feed2c","stop-opacity":"0.1"}})],1),e("linearGradient",{attrs:{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"}},[e("stop",{attrs:{offset:"0%","stop-color":"#2ca8fe","stop-opacity":"0.8"}}),e("stop",{attrs:{offset:"100%","stop-color":"#75deef","stop-opacity":"0.3"}})],1),e("radialGradient",{attrs:{id:"nodeGlowGradient"}},[e("stop",{attrs:{offset:"0%","stop-color":"#feed2c","stop-opacity":"0.6"}}),e("stop",{attrs:{offset:"100%","stop-color":"#feed2c","stop-opacity":"0"}})],1)],1)],2),e("div",{staticClass:"center-title"},[e("div",{staticClass:"center-title-text"},[t._v(t._s(t.activeProfile?t.truncatedActiveTitle:"职位画像"))]),e("div",{staticClass:"center-title-sub"},[t._v(t._s(t.activeProfile?t.activeProfile.count+" 个职位":""))])])]),t.activeProfile?e("div",{staticClass:"active-profile"},[e("div",{staticClass:"profile-card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title"},[t._v(t._s(t.truncatedActiveTitle))]),e("div",{staticClass:"card-count"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.activeProfile.count))]),e("span",{staticClass:"count-label"},[t._v("招聘职位")])])]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"detail-item salary-item"},[e("div",{staticClass:"detail-icon"},[t._v("💰")]),e("div",{staticClass:"detail-info"},[e("div",{staticClass:"detail-label"},[t._v("平均薪资")]),e("div",{staticClass:"detail-value"},[t._v(t._s(t.activeProfile.avgSalary))])])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"detail-icon"},[t._v("🏙️")]),e("div",{staticClass:"detail-info"},[e("div",{staticClass:"detail-label"},[t._v("热门城市")]),e("div",{staticClass:"detail-value"},[t._v(t._s(t.formatTopItems(t.activeProfile.topCities)))])])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"detail-icon"},[t._v("🏢")]),e("div",{staticClass:"detail-info"},[e("div",{staticClass:"detail-label"},[t._v("主要行业")]),e("div",{staticClass:"detail-value"},[t._v(t._s(t.formatTopItems(t.activeProfile.topIndustries)))])])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"detail-icon"},[t._v("🎓")]),e("div",{staticClass:"detail-info"},[e("div",{staticClass:"detail-label"},[t._v("经验要求")]),e("div",{staticClass:"detail-value"},[t._v(t._s(t.formatTopItems(t.activeProfile.topExperiences)))])])]),e("div",{staticClass:"detail-item"},[e("div",{staticClass:"detail-icon"},[t._v("📚")]),e("div",{staticClass:"detail-info"},[e("div",{staticClass:"detail-label"},[t._v("学历要求")]),e("div",{staticClass:"detail-value"},[t._v(t._s(t.formatTopItems(t.activeProfile.topEducations)))])])])])]),t.profiles.length>t.pageSize?e("div",{staticClass:"profile-nav"},[e("div",{staticClass:"nav-button",class:{disabled:0===t.currentPage},on:{click:t.prevPage}},[e("span",{staticClass:"nav-arrow"},[t._v("◀")])]),e("div",{staticClass:"page-indicators"},t._l(t.totalPages,(function(i){return e("span",{key:i,staticClass:"page-dot",class:{active:t.currentPage===i-1},on:{click:function(e){t.currentPage=i-1}}})})),0),e("div",{staticClass:"nav-button",class:{disabled:t.currentPage>=t.totalPages-1},on:{click:t.nextPage}},[e("span",{staticClass:"nav-arrow"},[t._v("▶")])])]):t._e()]):t._e()])])},s=[],r=(i("25c1"),i("6d95"),i("6823"),{name:"JobProfileCenter",props:{profiles:{type:Array,default:()=>[]}},data(){return{activeProfileIndex:0,autoSwitchInterval:null,currentPage:0,pageSize:6,animationFrameId:null,rotationAngle:0,hoveredNode:-1,starFieldCtx:null}},computed:{activeProfile(){return this.profiles&&this.profiles.length>0?this.profiles[this.activeProfileIndex]:null},totalPages(){return Math.ceil(this.profiles.length/this.pageSize)},visibleProfiles(){const t=this.currentPage*this.pageSize;return this.profiles.slice(t,t+this.pageSize)},truncatedActiveTitle(){return this.activeProfile&&this.activeProfile.title?this.activeProfile.title.substring(0,10):""}},methods:{truncateTitle(t){return t?t.length>10?t.substring(0,10):t:""},setChart(){this.profiles&&this.profiles.length>0&&(this.startAutoSwitch(),this.initStarfield())},initStarfield(){const t=this.$refs.starCanvas;if(!t)return;const e=t.getContext("2d"),i=t.width=t.offsetWidth,a=t.height=t.offsetHeight,s=[],r=200;for(let l=0;l<r;l++)s.push({x:Math.random()*i,y:Math.random()*a,radius:1.5*Math.random(),vx:.1*(Math.random()-.5),vy:.1*(Math.random()-.5),opacity:Math.random()});const o=()=>{e.clearRect(0,0,i,a),s.forEach(t=>{e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fillStyle=`rgba(117, 222, 239, ${t.opacity})`,e.fill(),t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>i)&&(t.vx=-t.vx),(t.y<0||t.y>a)&&(t.vy=-t.vy),t.opacity+=.05*(Math.random()-.5),t.opacity=Math.max(.1,Math.min(1,t.opacity))}),requestAnimationFrame(o)};o()},getNodeX(t){const e=2*Math.PI*t/this.visibleProfiles.length-Math.PI/2;return 300+180*Math.cos(e)},getNodeY(t){const e=2*Math.PI*t/this.visibleProfiles.length-Math.PI/2;return 250+180*Math.sin(e)},isActiveProfile(t){return this.activeProfileIndex===t+this.currentPage*this.pageSize},selectProfile(t){t<this.profiles.length&&(this.activeProfileIndex=t,this.startAutoSwitch())},prevPage(){this.currentPage>0&&(this.currentPage--,this.activeProfileIndex=this.currentPage*this.pageSize)},nextPage(){this.currentPage<this.totalPages-1&&(this.currentPage++,this.activeProfileIndex=this.currentPage*this.pageSize)},startAutoSwitch(){this.autoSwitchInterval&&clearInterval(this.autoSwitchInterval),this.autoSwitchInterval=setInterval(()=>{if(this.profiles&&this.profiles.length>0){this.activeProfileIndex=(this.activeProfileIndex+1)%this.profiles.length;const t=Math.floor(this.activeProfileIndex/this.pageSize);t!==this.currentPage&&(this.currentPage=t)}},8e3)},formatTopItems(t){return t&&0!==t.length?(t[0]&&t[0].city&&(t=t.slice(0,2)),t.map(t=>{const e=t.city||t.industry||t.exp||t.edu;return`${e}(${t.count})`}).join("、")):"暂无数据"}},mounted(){this.setChart()},beforeDestroy(){this.autoSwitchInterval&&clearInterval(this.autoSwitchInterval),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}),o=r,l=(i("2922"),i("1805")),c=Object(l["a"])(o,a,s,!1,null,"b6657980",null);e["default"]=c.exports},2922:function(t,e,i){"use strict";i("49ef")},"49ef":function(t,e,i){}}]);
//# sourceMappingURL=chunk-fc7e061e.fb39277e.js.map