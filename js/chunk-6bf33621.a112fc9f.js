(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bf33621"],{"03fc":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"salary-stack-chart"},[a("div",{staticClass:"chart-header"},[a("div",{staticClass:"chart-title"},[t._v("【薪酬模式堆叠图】各城市不同薪资段岗位分布")]),a("div",{staticClass:"filter-options"},[a("span",{staticClass:"label"},[t._v("显示模式:")]),a("div",{staticClass:"toggle-buttons"},[a("button",{staticClass:"toggle-btn",class:{active:"stack"===t.viewMode},on:{click:function(a){t.viewMode="stack"}}},[t._v("堆叠视图")]),a("button",{staticClass:"toggle-btn",class:{active:"percentage"===t.viewMode},on:{click:function(a){t.viewMode="percentage"}}},[t._v("百分比视图")])])])]),a("div",{staticClass:"legend-wrapper"},t._l(t.cityList,(function(s,i){return a("div",{key:s,staticClass:"legend-item",class:{disabled:!t.activeCities.includes(s)},on:{click:function(a){return t.toggleCity(s)}}},[a("span",{staticClass:"dot",style:{backgroundColor:t.colorList[i%t.colorList.length]}}),a("span",{staticClass:"legend-text"},[t._v(t._s(s))]),a("span",{staticClass:"status-indicator"},[t.activeCities.includes(s)?a("i",{staticClass:"status-icon"},[t._v("✓")]):t._e()])])})),0),a("div",{staticClass:"bars-container"},t._l(t.displayData,(function(s,i){return a("div",{key:s.range,staticClass:"bar-group"},[a("div",{staticClass:"label-column"},[a("div",{staticClass:"salary-label"},[t._v(t._s(s.range))])]),a("div",{staticClass:"bar-column"},[a("div",{staticClass:"bar-content"},t._l(s.items,(function(s,e){return a("div",{key:`${i}-${e}`,staticClass:"bar-block",style:{width:s.percentage+"%",backgroundColor:t.colorList[s.index%t.colorList.length],transition:`width 0.5s ease-out ${.05*e}s`},attrs:{title:`${s.city}: ${s.value}个职位 (${s.percentage.toFixed(1)}%)`}},[s.percentage>10?a("span",{staticClass:"bar-value"},[t._v(t._s(s.value))]):t._e()])})),0)]),a("div",{staticClass:"count-column"},[a("span",{staticClass:"count-value"},[t._v(t._s(s.total))])])])})),0)])},e=[],c=(s("25c1"),s("6d95"),s("a6b6"),s("10ab"),s("6823"),{name:"chartSalaryStack",props:{data:{type:Array,required:!0}},data(){return{viewMode:"stack",activeCities:[],chartLoaded:!1}},computed:{cityList(){if(!this.data||0===this.data.length)return[];const t=this.data[0];return Object.keys(t).filter(t=>"salary_range"!==t)},colorList(){return["#1A6EFF","#26A0FC","#36C5D9","#5AE5C5","#FFD166","#FF9F40","#FF6B6B","#D95C86","#7048E8","#5D5FEF","#3686FF","#18C0C1"]},displayData(){if(!this.data||0===this.data.length)return[];const t=this.activeCities.length?this.activeCities:this.cityList;return this.data.map(a=>{const s=[];let i=0;return t.forEach(t=>{i+=a[t]||0}),t.forEach((t,e)=>{const c=a[t]||0;if(0===c)return;const n=this.cityList.indexOf(t);let l=0;l="stack"===this.viewMode?i>0?c/i*100:0:100,s.push({city:t,value:c,percentage:l,index:n})}),{range:a.salary_range,items:s,total:i}}).sort((t,a)=>{const s=t=>{const a=t.match(/(\d+)/);return a?parseInt(a[1]):0};return s(t.range)-s(a.range)})}},watch:{cityList:{immediate:!0,handler(t){this.activeCities=[...t]}},data:{handler(){this.animateOnLoad()},immediate:!0}},mounted(){this.animateOnLoad()},methods:{toggleCity(t){this.activeCities.includes(t)?this.activeCities.length>1&&(this.activeCities=this.activeCities.filter(a=>a!==t)):this.activeCities.push(t)},animateOnLoad(){this.data&&this.data.length>0&&!this.chartLoaded&&(this.chartLoaded=!0)}}}),n=c,l=(s("aed8"),s("1805")),r=Object(l["a"])(n,i,e,!1,null,"48638b98",null);a["default"]=r.exports},aed8:function(t,a,s){"use strict";s("d400")},d400:function(t,a,s){}}]);
//# sourceMappingURL=chunk-6bf33621.a112fc9f.js.map